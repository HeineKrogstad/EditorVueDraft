# Спецификация REST API

## Endpoints

### Проекты (Projects)

#### Получить все проекты
**GET** `/projects`

- **Описание**: Возвращает список всех проектов.
- **Ответ**:
- **Статус**: `200 OK`
- **Тело**: JSON-массив проектов
```json
    [
        {
            "id": 1
        },
        {
            "id": 2
        }
    ]
```

### Посты (Posts)

#### Создать новый пост
**POST** `/posts`

- **Описание**: Создает новый пост, связанный с проектом.
- **Тело запроса**:
```json
    {
    "content": {},  // JSON-объект с содержимым поста
    "timestamp": "15.07.24",  // Дата в формате DD-MM-YY
    "project": 1,  // ID проекта
    "channel": "channel_enum_value"  // Значение перечисления, представляющее канал (Личный/Командный/Публичный)
    }
```

- **Ответ**:
  - **Статус**: `201 Created`
  - **Тело**: JSON-объект, представляющий созданный пост
```json
{
    "id": 1,
    "content": {},
    "timestamp": "15.07.24",
    "project": 1,
    "channel": "channel_enum_value"
}
```

#### Получить все посты
**GET** `/posts`

- **Описание**: Возвращает список всех постов.
- **Ответ**:
  - **Статус**: `200 OK`
  - **Тело**: JSON-массив постов
```json
[
    {
        "id": 1,
        "content": {},
        "timestamp": "15.07.24",
        "project": 1,
        "channel": "channel_enum_value"
    },
    {
        "id": 2,
        "content": {},
        "timestamp": "15.07.24",
        "project": 2,
        "channel": "channel_enum_value"
    }
]
```

#### Получить посты по проекту
**GET** `/projects/{projectId}/posts`

- **Описание**: Возвращает список постов для конкретного проекта.
- **Параметры**:
  - `projectId` (integer, обязательный): ID проекта
- **Ответ**:
  - **Статус**: `200 OK`
  - **Тело**: JSON-массив постов для указанного проекта
```json
[
    {
        "id": 1,
        "content": {},
        "timestamp": "15.07.24",
        "project": 1,
        "channel": "channel_enum_value"
    }
]
```

#### Удалить пост
**DELETE** `/posts/{postId}`

- **Описание**: Удаляет пост по его ID.
- **Параметры**:
  - `postId` (integer, обязательный): ID поста
- **Ответ**:
  - **Статус**: `204 No Content`
  - **Тело**: Нет


### Вложения (Attachments)

#### Создать новое вложение
**POST** `/attachments`

- **Описание**: Создает новое вложение, связанное с постом.
- **Тело запроса**:
```json
{
    "path": "path/to/file",
    "name": "filename.ext",
    "post": 1  // ID поста
}
```
- **Ответ**:
  - **Статус**: `201 Created`
  - **Тело**: JSON-объект, представляющий созданное вложение
```json
{
    "id": 1,
    "path": "path/to/file",
    "name": "filename.ext",
    "post": 1
}
```

#### Получить вложения по посту
**GET** `/posts/{postId}/attachments`

- **Описание**: Возвращает список вложений для конкретного поста.
- **Параметры**:
  - `postId` (integer, обязательный): ID поста
- **Ответ**:
  - **Статус**: `200 OK`
  - **Тело**: JSON-массив вложений для указанного поста
```json
[
    {
        "id": 1,
        "path": "path/to/file",
        "name": "filename.ext",
        "post": 1
    }
]
```

### Узлы (Nodes)

#### Создать новый узел
**POST** `/nodes`

- **Описание**: Создает новую ноду, связанную с постом.
- **Тело запроса**:
```json
{
    "post": 1  // ID поста
}
```
- **Ответ**:
  - **Статус**: `201 Created`
  - **Тело**: JSON-объект, представляющий созданную ноду
```json
{
    "id": 1,
    "post": 1
}
```

#### Получить пост по ноде
**GET** `/nodes/{nodeId}/post`

- **Описание**: Возвращает пост, связанный с конкретной нодой.
- **Параметры**:
  - `nodeId` (integer, обязательный): ID ноды
- **Ответ**:
  - **Статус**: `200 OK`
  - **Тело**: JSON-объект, представляющий пост
```json
{
    "id": 1,
    "content": {},
    "timestamp": "2024-07-15",
    "project": 1,
    "channel": "channel_enum_value"
}
```


#### Получить все узлы
**GET** `/nodes`

- **Описание**: Возвращает список всех узлов.
- **Ответ**:
  - **Статус**: `200 OK`
  - **Тело**: JSON-массив нод
```json
[
    {
        "id": 1,
        "post": 1
    },
    {
        "id": 2,
        "post": 2
    }
]
```

## Модели данных

### Проект
```json
{
  "id": 1
}
```

### Пост
```json
{
  "id": 1,
  "content": {},
  "timestamp": "15.07.24",
  "project": 1,
  "channel": "channel_enum_value"
}
```

### Вложение
```json
{
  "id": 1,
  "path": "path/to/file",
  "name": "filename.ext",
  "post": 1
}
```

### Узел
```json
{
  "id": 1,
  "post": 1
}
```